---
layout: post
title: Web Application
---

## ยง1. Main Page

We will start by showing how to create the overall flask web application and specifically the main page.  We start by creating the main code document, app.py, which will house our functions and all of the Python code we will use.  Below is the code used to create the project and the main page.

```python
from flask import Flask, render_template, request, g
from flask import redirect, url_for, abort
import sqlite3
import os # import necessary items

app = Flask(__name__) # create flask
gidcount = 0 # create global id count for later

@app.route("/") # create main page
def main():
    return render_template('main.html') # render main template
```

So we start by importing all of the modules that we will need, including Flask, then create the app with Flask, and then define a function for the overall site where we render the template 'main.html'.  Now we will look at that template.

```html
{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}PIC 16B HW 5 WebApp{% endblock %}</h1>
{% endblock %}

{% block content %}
<p>Hello! Welcome to the PIC 16B HW 5 Web App!</p>
{% endblock %}
```

The first line in this template refers to 'base.html', which, as we will see in a moment, sets up the navigation section on each page.  Then, we have our title in the block header, and the content in the block content, which in this case is just a welcome statement.  Now we will look at 'base.html'

```html
<!doctype html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/style.css') }}">
    <title>{% block title %}A Simple Message Bank{% endblock %}</title>
  </head>
  <body>
    <nav>
      <h1>A Simple Message Bank</h1>
      <!-- <b>Navigation:</b> -->
      <ul>
        <li><a href="{{ url_for('main') }}">Main page</a></li>
        <li><a href="{{ url_for('submit') }}">Submit</a></li>
        <li><a href="{{ url_for('view') }}">View</a></li>
      </ul>
    </nav>
    <section class="content">
      <header>
        {% block header %}{% endblock %}
      </header>
      {% block content %}{% endblock %}
    </section>
  </body>
</html>
```

In this template, we have a statement stating the document type, html, then a head section which refers the application to the style sheet in the static folder, which we will come back to near the end of this blog post, and then the code for the navigation section, under the nav tag.  It contains the title, and links to the three main pages.  It also contains a section for the content of the page, which is filled in by the other templates for each page.

The main page, as constructed here, is shown below:

![Blog-5-Main.png]({{ site.baseurl }}/images/Blog-5-Main.png)